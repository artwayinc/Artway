# Админка: Безопасность и Ограничения

## Текущий подход

Админка использует простую авторизацию через `.env` файл:
- Логин и пароль хранятся в переменных окружения
- Один фиксированный пользователь
- Сессии хранятся в cookies
- Данные расписания хранятся в JSON файле

## Минусы текущего подхода

### 1. **Ограниченная масштабируемость**
- ❌ Только один администратор
- ❌ Невозможно добавить новых пользователей без изменения кода
- ❌ Нет ролей и прав доступа

### 2. **Безопасность**
- ⚠️ Пароль хранится в открытом виде в `.env` файле
- ⚠️ Если кто-то получит доступ к серверу, пароль будет скомпрометирован
- ⚠️ Нет защиты от брутфорса (можно добавить rate limiting)
- ⚠️ Нет двухфакторной аутентификации
- ⚠️ Сессии не имеют дополнительной защиты (можно добавить CSRF токены)

### 3. **Управление данными**
- ❌ Нет истории изменений (audit log)
- ❌ Нет возможности откатить изменения
- ❌ Нет резервного копирования (нужно делать вручную)
- ❌ JSON файл может быть поврежден при одновременной записи

### 4. **Производительность**
- ⚠️ JSON файл читается полностью при каждом запросе
- ⚠️ Не подходит для больших объемов данных
- ⚠️ Нет индексации и оптимизации запросов

### 5. **Надежность**
- ⚠️ Нет транзакций (может быть частичная запись при ошибке)
- ⚠️ Нет валидации данных на уровне БД
- ⚠️ Риск потери данных при сбое сервера во время записи

## Когда этот подход подходит

✅ **Подходит для:**
- Небольших сайтов с одним администратором
- Проектов с низкой нагрузкой
- Прототипов и MVP
- Внутренних инструментов

❌ **НЕ подходит для:**
- Коммерческих проектов с несколькими администраторами
- Высоконагруженных систем
- Проектов с требованиями к безопасности
- Систем с большим объемом данных

## Рекомендации по улучшению

### Краткосрочные улучшения:
1. Добавить rate limiting для защиты от брутфорса
2. Добавить CSRF защиту
3. Хешировать пароль (bcrypt)
4. Добавить логирование попыток входа
5. Регулярное резервное копирование JSON файла

### Долгосрочные улучшения:
1. Перейти на настоящую БД (PostgreSQL, MySQL)
2. Использовать ORM (Prisma, TypeORM)
3. Добавить систему пользователей с ролями
4. Реализовать audit log
5. Добавить двухфакторную аутентификацию

## Текущие учетные данные

- **Логин:** `artway-admin` (из `.env.local`)
- **Пароль:** `Artway2025!Secure` (из `.env.local`)

⚠️ **ВАЖНО:** Измените пароль в `.env.local` перед деплоем в продакшн!
